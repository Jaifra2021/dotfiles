#!/usr/bin/env bash
#
# Display the path to the repository that contains the specified directory

path=$1
[[ -z "$path" ]] && path=$(pwd)
[[ ! "$path" =~ ^/ ]] && path=$(realpath $path 2>/dev/null)
[[ -z "$path" ]] && exit 1

while [[ ! -d "$path/.git" ]]; do
    path=$(dirname $path)

    if [[ $path == '/' ]]; then
        exit 1
    fi
done
echo $path

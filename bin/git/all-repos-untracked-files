#!/usr/bin/env bash
#
# Display untracked files in repositories that have them

echo "Showing repos that have untracked files"
for repo in $(all-repos-list | tr '\n' '\0' | xargs -0); do
    untracked=$(untracked-files $repo)
    if [[ -n "$untracked" ]]; then
        remote=$(repo-remote $repo)
        branch=$(branchname $repo)
        echo -e "\n==============="
        echo -e "$repo -- $remote --  $branch\n$untracked"
    fi
done | less -FX
